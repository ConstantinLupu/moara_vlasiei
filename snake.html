snake.html
<!DOCTYPE html>
<html>
<head>
  <title>Joc Snake - Portofoliu Constantin Lupu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      background-color: #222;
      color: white;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      touch-action: manipulation;
    }
    
    /* --- STIL BUTON INAPOI --- */
    .btn-back {
        position: absolute;
        top: 20px;
        left: 20px;
        text-decoration: none;
        color: white;
        background-color: #444;
        padding: 10px 15px;
        border-radius: 5px;
        font-weight: bold;
        border: 1px solid #666;
        transition: 0.3s;
        z-index: 100;
    }
    .btn-back:hover {
        background-color: #f44336; /* Rosu la hover */
        border-color: #f44336;
    }

    #gameContainer {
      position: relative;
      margin-bottom: 10px;
      margin-top: 50px; /* Spatiu pentru butonul de back pe mobil */
    }

    canvas {
      border: 2px solid #fff;
      background-color: #000;
      display: block;
      box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
    }

    #gameOverMenu {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    h2 { margin: 5px 0; font-size: 1.5rem; }
    .info { font-size: 14px; color: #aaa; margin-bottom: 10px; text-align: center; }

    .menu-btn {
      padding: 10px 20px;
      margin: 10px;
      font-size: 16px;
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      width: 200px;
    }
    .reset-btn { background-color: #f44336; }

    .scores {
      display: flex;
      gap: 20px;
      font-size: 18px;
      margin-bottom: 5px;
    }

    /* --- CONTROALE PENTRU TELEFON --- */
    #mobileControls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }

    #pauseBtn {
      padding: 10px 40px;
      font-size: 18px;
      background-color: #FF9800;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }

    .d-pad {
      display: grid;
      grid-template-columns: 60px 60px 60px;
      grid-template-rows: 60px 60px;
      gap: 5px;
    }
    
    .dir-btn {
      width: 60px;
      height: 60px;
      background-color: #444;
      border: 1px solid #666;
      border-radius: 10px;
      color: white;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      user-select: none;
      -webkit-user-select: none; 
    }
    .dir-btn:active { background-color: #666; }
    
    .up { grid-column: 2; grid-row: 1; }
    .left { grid-column: 1; grid-row: 2; }
    .down { grid-column: 2; grid-row: 2; }
    .right { grid-column: 3; grid-row: 2; }

  </style>
</head>
<body>

  <a href="portofoliu.html" class="btn-back">⬅ Înapoi la Portofoliu</a>

  <h2>Joc Snake</h2>
  <div class="scores">
    <span>Scor: <b id="score">0</b></span>
    <span>Max: <b id="highScore">0</b></span>
  </div>

  <div id="gameContainer">
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    
    <div id="gameOverMenu">
      <h1 style="color: lime;">Game Over!</h1>
      <h3 id="finalScoreText">Scor final: 0</h3>
      <button class="menu-btn" onclick="restartGame(true)">Continuă (Păstrează Scorul)</button>
      <button class="menu-btn reset-btn" onclick="restartGame(false)">Joc Nou (Scor 0)</button>
    </div>
  </div>

  <div id="mobileControls">
    <button id="pauseBtn" onclick="togglePause()">⏸ PAUZĂ</button>
    
    <div class="d-pad">
      <div class="dir-btn up" onclick="move('up')">▲</div>
      <div class="dir-btn left" onclick="move('left')">◀</div>
      <div class="dir-btn down" onclick="move('down')">▼</div>
      <div class="dir-btn right" onclick="move('right')">▶</div>
    </div>
    <p class="info">PC: W,A,S,D + SPACE | Mobil: Butoane</p>
  </div>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const menu = document.getElementById('gameOverMenu');
    const pauseBtn = document.getElementById('pauseBtn');
    
    if(window.innerWidth < 420){
        canvas.width = 300;
        canvas.height = 300;
    }

    let tileCount = 20;
    let tileSize = canvas.width / tileCount - 2;
    let speed = 7;
    
    let headX = 10;
    let headY = 10;
    let xVelocity = 0;
    let yVelocity = 0;
    
    let appleX = 5;
    let appleY = 5;
    
    let trail = [];
    let tail = 5;
    
    let score = 0;
    let highScore = 0;
    let isPaused = false;
    let isGameRunning = true; 

    function drawGame() {
      if (!isGameRunning) return;

      changeSnakePosition();
      
      let result = isGameOver();
      if(result){
        clearScreen();
        drawApple();
        drawSnake(); 
        showGameOverMenu();
        return;
      }

      clearScreen();
      checkAppleCollision();
      drawApple();
      drawSnake();
      
      if(isPaused) {
         ctx.fillStyle = "white";
         ctx.font = "30px Arial";
         ctx.textAlign = "center";
         ctx.fillText("PAUZĂ", canvas.width / 2, canvas.height / 2);
         return; 
      }

      setTimeout(drawGame, 1000/ speed);
    }

    function showGameOverMenu() {
      isGameRunning = false;
      document.getElementById('finalScoreText').innerText = "Scor atins: " + score;
      menu.style.display = "flex";
      pauseBtn.style.visibility = "hidden";
    }

    function restartGame(keepScore) {
      menu.style.display = "none";
      pauseBtn.style.visibility = "visible"; 
      
      headX = 10;
      headY = 10;
      xVelocity = 0;
      yVelocity = 0;
      trail = [];
      tail = 5;
      speed = 7; 

      if (!keepScore) {
        score = 0;
        updateScoreDisplay();
      }

      isGameRunning = true;
      isPaused = false;
      pauseBtn.innerText = "⏸ PAUZĂ";
      pauseBtn.style.backgroundColor = "#FF9800";
      drawGame();
    }

    function togglePause() {
        if(!isGameRunning) return;
        
        isPaused = !isPaused;
        
        if(isPaused) {
            pauseBtn.innerText = "▶ CONTINUĂ";
            pauseBtn.style.backgroundColor = "#4CAF50"; 
        } else {
            pauseBtn.innerText = "⏸ PAUZĂ";
            pauseBtn.style.backgroundColor = "#FF9800"; 
            drawGame(); 
        }
    }

    function isGameOver(){
      let gameOver = false; 
      if(xVelocity === 0 && yVelocity === 0) return false;

      // Verificam coliziunea cu coada
      for(let i = 0; i < trail.length; i++){
          if(trail[i].x === headX && trail[i].y === headY){
              gameOver = true;
              break;
          }
      }
      return gameOver;
    }

    function updateScoreDisplay(){
      document.getElementById('score').innerText = score;
      if(score > highScore) {
        highScore = score;
        document.getElementById('highScore').innerText = highScore;
      }
    }

    function clearScreen() {
      ctx.fillStyle = 'black';
      ctx.fillRect(0,0,canvas.width, canvas.height);
    }

    function drawSnake() {
      ctx.fillStyle = 'lime'; 
      for(let i = 0; i < trail.length; i++){
        ctx.fillRect(trail[i].x * tileCount, trail[i].y * tileCount, tileSize, tileSize);
      }

      trail.push({x:headX, y:headY}); 
      while(trail.length > tail){
        trail.shift();
      }
    }

    function changeSnakePosition(){
      if(isPaused) return; 

      headX = headX + xVelocity;
      headY = headY + yVelocity;
      
      if(headX < 0) headX = tileCount - 1;
      if(headX > tileCount - 1) headX = 0;
      if(headY < 0) headY = tileCount - 1;
      if(headY > tileCount - 1) headY = 0;
    }

    function drawApple(){
      ctx.fillStyle = "red";
      ctx.fillRect(appleX * tileCount, appleY * tileCount, tileSize, tileSize);
    }

    function checkAppleCollision(){
      if(appleX === headX && appleY == headY){
        appleX = Math.floor(Math.random() * tileCount);
        appleY = Math.floor(Math.random() * tileCount);
        tail++;
        score++;
        speed += 0.2; 
        updateScoreDisplay();
      }
    }

    function move(direction) {
        if(isPaused || !isGameRunning) return;

        if (direction === 'up') {
            if(yVelocity == 1) return; 
            yVelocity = -1; xVelocity = 0;
        }
        if (direction === 'down') {
            if(yVelocity == -1) return;
            yVelocity = 1; xVelocity = 0;
        }
        if (direction === 'left') {
            if(xVelocity == 1) return;
            yVelocity = 0; xVelocity = -1;
        }
        if (direction === 'right') {
            if(xVelocity == -1) return;
            yVelocity = 0; xVelocity = 1;
        }
    }

    document.body.addEventListener('keydown', keyDown);

    function keyDown(event){
      if(event.keyCode == 32) {
        togglePause();
        return;
      }
      if(event.keyCode == 38 || event.keyCode == 87) move('up');
      if(event.keyCode == 40 || event.keyCode == 83) move('down');
      if(event.keyCode == 37 || event.keyCode == 65) move('left');
      if(event.keyCode == 39 || event.keyCode == 68) move('right');
    }

    drawGame(); 
  </script>
</body>
</html>