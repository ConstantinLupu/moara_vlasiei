<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jurnal de Amintiri</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { 
            margin: 0; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixlib=rb-4.0.3') no-repeat center center fixed; 
            background-size: cover; 
            color: white; 
        }
        
        .navbar { background: rgba(96, 125, 139, 0.9); padding: 15px; text-align: center; display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
        .navbar a { color: #1a1a1a; text-decoration: none; font-weight: bold; font-size: 14px; text-transform: uppercase; transition: color 0.3s; }
        .navbar a:hover, .navbar a.active { color: white; }
        .navbar a i { color: #00d2ff; }

        .container { max-width: 900px; margin: 40px auto; padding: 20px; text-align: center; }
        
        /* Casetă albă exact ca în poza ta */
        .upload-box { background: rgba(255, 255, 255, 0.95); color: #333; padding: 30px; border-radius: 15px; margin-bottom: 50px; box-shadow: 0 10px 20px rgba(0,0,0,0.3); text-align: left;}
        .upload-box h2 { color: #1d8cf8; margin-top: 0; text-align: center;}
        
        .form-row { display: flex; gap: 20px; }
        .form-col { flex: 1; }
        
        input, textarea { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #ccc; background: #f9f9f9; box-sizing: border-box; font-family: inherit;}
        
        .btn { background: #1d8cf8; color: white; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; font-size: 16px; margin-top: 10px;}
        .btn:hover { background: #0073e6; }
        
        /* Grila cu poze postate */
        .memory-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; text-align: left; }
        .memory-card { background: white; color: #333; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .memory-card img { width: 100%; height: 200px; object-fit: cover; display: block; }
        .content { padding: 15px; }
        .content strong { color: #1d8cf8; font-size: 1.1rem; }
    </style>
</head>
<body>

    <div class="navbar">
        <a href="index.html">Acasă</a>
        <a href="#">Despre Mine</a>
        <a href="#">Prezentare</a>
        <a href="#">Jocuri</a>
        <a href="poze.html">Galerie Foto</a>
        <a href="amintiri.html" class="active">Amintiri</a>
        <a href="#">Portofoliu</a>
        <a href="admin.html"><i class="fas fa-lock"></i> Admin</a>
        <a href="#">Contact</a>
    </div>

    <div class="container">
        <div class="upload-box">
            <h2><i class="fas fa-camera"></i> Adaugă Amintirea Ta de Vacanță</h2>
            <p style="text-align: center; color: #666; margin-bottom: 20px;">Fă parte din comunitatea noastră! Încarcă o poză și povestește-ne pe scurt despre vacanța ta.</p>

            <div class="form-row">
                <div class="form-col">
                    <label><b>Numele tău sau Locația</b></label>
                    <input type="text" id="name" placeholder="Ex: Mihai în Thassos">
                </div>
                <div class="form-col">
                    <label><b>Alege Fotografia</b></label>
                    <input type="file" id="photo" accept="image/*">
                </div>
            </div>
            
            <label><b>Scurtă descriere / Mesaj</b></label>
            <textarea id="story" placeholder="Scrie mesajul tău aici..." rows="3"></textarea>
            
            <button class="btn" onclick="save()"><i class="fas fa-paper-plane"></i> Publică Amintirea</button>
        </div>

        <div id="grid" class="memory-grid"></div>
    </div>

    <script>
        function save() {
            const name = document.getElementById('name').value;
            const file = document.getElementById('photo').files[0];
            const story = document.getElementById('story').value;

            if(!file) return alert("Te rog să alegi fotografia!");
            if(!name) return alert("Te rog să treci numele tău sau locația!");

            const reader = new FileReader();
            reader.onload = function(e) {
                const mem = { id: Date.now(), author: name, image: e.target.result, text: story };
                let db = JSON.parse(localStorage.getItem('vacationMemories')) || [];
                db.unshift(mem);
                localStorage.setItem('vacationMemories', JSON.stringify(db));
                
                location.reload(); 
            };
            reader.readAsDataURL(file);
        }

        function load() {
            const db = JSON.parse(localStorage.getItem('vacationMemories')) || [];
            const grid = document.getElementById('grid');
            
            if (db.length === 0) {
                grid.innerHTML = '<p style="text-align: center; grid-column: 1/-1; color: white; background: rgba(0,0,0,0.5); padding: 10px; border-radius: 10px;">Nicio amintire adăugată încă. Fii tu primul!</p>';
                return;
            }

            grid.innerHTML = db.map(m => `
                <div class="memory-card">
                    <img src="${m.image}" alt="Amintire">
                    <div class="content">
                        <strong>${m.author}</strong>
                        <p style="font-size:0.9rem; color:#666; margin-top: 8px;">${m.text}</p>
                    </div>
                </div>
            `).join('');
        }
        window.onload = load;
    </script>

</body>
</html>